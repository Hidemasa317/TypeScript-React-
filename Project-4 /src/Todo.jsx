import { useState } from 'react';

export default function Todo() {
  //------------------é–¢æ•°Todoå®šç¾©------------------//

  //------ğŸ”¹stateã¯ã€ãã®çŠ¶æ…‹ã€ã¨ã„ã†æ¦‚å¿µã€ã§ã‚ã‚‹ã€‚ã²ã¨ã¾ãšæ¦‚å¿µã‚’æ§‹ç¯‰ã€‚
  //------ğŸ”¹useStateã¯2ã¤ã‚’è¿”ã™ã®ã§ã€[ç¾åœ¨ã®å€¤, æ›´æ–°ã™ã‚‹å€¤]ã®é †ã§æ›¸ãã€‚ğŸŒŸ

  //ğŸ”¹â‘ é–¢æ•°å†…ã§å¿…è¦ãªãƒ‘ãƒ¼ãƒ„ã¨ã—ã¦å®šæ•°ã‚’å®šç¾©ã—ã€æ©Ÿèƒ½ã‚’ä»£å…¥ã€‚
  //ğŸ”¹â‘¡JSXå†…ã®å„éƒ¨ä½å†…ã§å®šæ•°è¦ç´ ã‚’å‘¼ã³å‡ºã—ã¦ã€æ©Ÿèƒ½ã¨ã—ã¦å…·ç¾åŒ–ã™ã‚‹ã€‚

  const [todos, updateTodos] = useState(0); //é…åˆ—ã¨æ›´æ–°å€¤ã‚’å–å¾—ã€‚
  const [text, updateText] = useState(0); //ãƒ†ã‚­ã‚¹ãƒˆ(todoã¸ã®å…¥åŠ›å€¤)ã¨ã€æ›´æ–°å€¤ã‚’å–å¾—ã€‚
  const [date, updateDate] = useState(0); //dateã¨æ›´æ–°å€¤ã‚’å–å¾—ã€‚

  //------ = () =>. ã‚¤ã‚³ãƒ¼ãƒ«ã€ã‚«ãƒƒã‚³ã€ã‚¤ã‚³ãƒ¼ãƒ«ï¼ --------------//

  //Todoè¿½åŠ éƒ¨ä½ğŸ¤–//

  const addTodo = () => {
    //ã‚¢ãƒ­ãƒ¼é–¢æ•°ã€é–¢æ•°å†…ã®å†…å®¹ã‚’ã€å®šæ•°orå¤‰æ•°ã«ä»£å…¥ã€‚
    if (!text) return alert('Todoã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'); //ã‚¢ãƒ©ãƒ¼ãƒˆ
    if (!date) return alert('æœŸæ—¥ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'); //ã‚¢ãƒ©ãƒ¼ãƒˆ

    const newTodo = {
      id: crypto.rundomUUID(), //ç°¡æ˜“çš„ãªã‚‚ã®ã§ã‚‚è‰¯ã„ãŒã€ãƒ©ãƒ³ãƒ€ãƒ ã«idã‚’åãã“ã¡ã‚‰ã®æ–¹æ³•ã§ä¸€å¿œè©¦è¡Œã™ã‚‹ã€‚
      //å¾Œã€…DBãªã©ã‹ã‚‰æ‹¾ã†éš›ã«å½¹ç«‹ã¤ã‹ã‚‚ã€‚
      text, //'ã‚ã„ã†ãˆãŠ'ç­‰ã€…
      date, //æ—¥ä»˜
    };

    updateTodos([...todos, newTodo]); //...ABC ã§ã€ä»Šã¾ã§ã®é…åˆ—ã®ã‚³ãƒ”ãƒ¼ã¨ã„ã†æ„å‘³ã€‚ãã“ã«ä¸€ã¤ä¸Šã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§å®šç¾©ã—ãŸnewTodoã§Todoã‚’è¿½åŠ ã™ã‚‹ã€‚
    updateText(''); //ğŸŒŸupdateTextã¯æ›´æ–°å€¤ã§ã‚ã£ãŸã€‚ãã‚Œã‚’ç©ºText
    updateDate(''); //ğŸŒŸupdateDateã¯æ›´æ–°å€¤ã§ã‚ã£ãŸã€‚ãã‚Œã‚’ç©ºã«ã™ã‚‹ã€‚
  };

  //å‰Šé™¤ãƒœã‚¿ãƒ³éƒ¨ä½ğŸ¤–
  const deleteTodo = (id) => {
    //()å†…ã«å€¤ã‚’å…¥ã‚Œã‚‹ã¨ã€ãã®å€¤ã‚’å—ã‘å–ã‚‹æ©Ÿæ§‹(ã‚¢ãƒ­ãƒ¼é–¢æ•°ï¼‰ã¨ãªã‚‹ã€‚
    // filter æ¡ä»¶ã«æ®‹ã™ã‚‚ã®ã ã‘æ®‹ã™ã€‚

    //ğŸ”´æ¶ˆã—ãŸã„todoã®idã‚’å—ã‘å–ã‚Šã€ã€ãã®Todoã‚’é™¤ã„ãŸé…åˆ—ã‚’å†æ§‹ç¯‰ã™ã‚‹ã“ã¨ã§ã€
    //å®Ÿè³ªçš„ãªå‰Šé™¤ãƒœã‚¿ãƒ³æ©Ÿèƒ½ã¨ã—ã¦ã„ã‚‹ã€‚

    updateTodos(todos.filter((t) => t.id !== id));
  };

  //-------------JSX â¬‡ï¸ -----------------//

  // âš«ï¸ return (); âš«ï¸ <div style{{margin:0 auto , padding :0;}}></div>ã¨æ›¸ãã€‚

  return (
    <>
      <div
        style={{
          maxWidth: 600,
          margin: '0 auto',
          padding: 16,
          border: 5,
          display: 'flex',
          gap: 8,
          flexWrap: 'wrap',
          allignitems: 'center',
        }}
      >
        <h1> Todo Maker </h1>

        <div>
          <label>
            Todo :
            <input value={text} />
          </label>
          <label>
            æœŸæ—¥ :
            <input value={date} type="date" />
          </label>
          <button onClick={addTodo}>Todoã‚’è¿½åŠ ã™ã‚‹</button>
        </div>
      </div>
    </>
  );
}
